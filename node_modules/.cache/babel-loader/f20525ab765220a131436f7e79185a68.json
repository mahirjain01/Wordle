{"ast":null,"code":"var _jsxFileName = \"/home/mahir/INTER-IIT/wordle/src/components/KeyBoard/index.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport BackspaceIcon from \"@mui/icons-material/Backspace\";\nimport { Provider, Network } from \"aptos\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst address = \"0x0fc6f90cffc13c8eb5312cfe1ed45f716a59cdfe524deef655bc1fe94408a2d8\";\nconst keyboard = {\n  line1: \"QWERTYUIOP\",\n  line2: \"ASDFGHJKL\",\n  line3: \"ZXCVBNM\"\n};\nlet defaultLetters = [];\n\"abcdefjhijklmnopqrstuvwxyz\".split(\"\").forEach(i => {\n  defaultLetters[i] = \"\";\n});\n\nfunction Key(props) {\n  _s();\n\n  const [state, setState] = useState(\"bg-gray-200 hover:bg-gray-300 dark:bg-zinc-400 dark:text-white dark:hover:bg-zinc-500\");\n  const x = props.value.length === 1 ? \"w-7 sm:w-10 \" : \"p-2 sm:p-4 \";\n\n  const returnKey = () => {\n    props.getKey(props.value);\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      if (props.state === \"C\") setState(\"bg-correct text-white\");\n      if (props.state === \"E\") setState(\"bg-exist text-white\");\n      if (props.state === \"N\") setState(\"bg-wrong text-white dark:bg-gray-600\");\n    }, 350);\n  }, [props.state]);\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: x + state + \" h-14 300 grid items-center rounded font-semibold cursor-pointer\",\n    onClick: returnKey,\n    children: props.value === \"DEL\" ? /*#__PURE__*/_jsxDEV(BackspaceIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 32\n    }, this) : props.value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Key, \"Aq6/i/Mr9AofALQwaJAhnqwIGj0=\");\n\n_c = Key;\n\nfunction KeyBoard(props) {\n  _s2();\n\n  const [letters, setletters] = useState(defaultLetters);\n  const [keyPresses, setKeyPresses] = useState([]);\n  useEffect(() => {\n    setletters(props.letters);\n  }, [props.changed]);\n\n  const keyHandler = value => {\n    if (value === \"DEL\") {\n      // If \"DEL\" is pressed, remove the last key press entry\n      setKeyPresses(prevKeyPresses => prevKeyPresses.slice(0, -1));\n    } else {\n      // Otherwise, add a new key press entry\n      setKeyPresses(prevKeyPresses => [...prevKeyPresses, value]);\n    }\n  };\n\n  const handleEnterPress = async () => {\n    // Loop through key presses and send transactions\n    for (const pressedKey of keyPresses) {\n      const keyPressTransaction = {\n        type: \"entry_function_payload\",\n        function: `${props.address}::test4::pressedKey`,\n        arguments: [1, 0, 0, pressedKey.charCodeAt(0)],\n        type_arguments: []\n      };\n\n      try {\n        const key = await window.aptos.signAndSubmitTransaction(keyPressTransaction);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n\n    const provider = new Provider(Network.DEVNET);\n    const res2 = await provider.getAccountResource(address, \"0x0fc6f90cffc13c8eb5312cfe1ed45f716a59cdfe524deef655bc1fe94408a2d8::test5::IdToWordle\");\n    console.log(res2); // Clear key presses after handling them\n\n    setKeyPresses([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center w-100 pb-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-1 my-0.5 w-fit\",\n      children: keyboard.line1.split(\"\").map((value, key) => /*#__PURE__*/_jsxDEV(Key, {\n        getKey: keyHandler,\n        value: value,\n        state: letters[value]\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-1 my-0.5 w-fit\",\n      children: keyboard.line2.split(\"\").map((value, key) => /*#__PURE__*/_jsxDEV(Key, {\n        getKey: keyHandler,\n        value: value,\n        state: letters[value]\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-1 my-0.5 w-fit\",\n      children: [/*#__PURE__*/_jsxDEV(Key, {\n        value: \"ENTER\",\n        getKey: keyHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), keyboard.line3.split(\"\").map((value, key) => /*#__PURE__*/_jsxDEV(Key, {\n        getKey: keyHandler,\n        value: value,\n        state: letters[value]\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Key, {\n        value: \"DEL\",\n        getKey: keyHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(KeyBoard, \"iqzR6XL4ps6YBhAectx6nV/dmXE=\");\n\n_c2 = KeyBoard;\nexport default KeyBoard;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Key\");\n$RefreshReg$(_c2, \"KeyBoard\");","map":{"version":3,"sources":["/home/mahir/INTER-IIT/wordle/src/components/KeyBoard/index.jsx"],"names":["useEffect","useState","BackspaceIcon","Provider","Network","address","keyboard","line1","line2","line3","defaultLetters","split","forEach","i","Key","props","state","setState","x","value","length","returnKey","getKey","setTimeout","KeyBoard","letters","setletters","keyPresses","setKeyPresses","changed","keyHandler","prevKeyPresses","slice","handleEnterPress","pressedKey","keyPressTransaction","type","function","arguments","charCodeAt","type_arguments","key","window","aptos","signAndSubmitTransaction","err","console","error","provider","DEVNET","res2","getAccountResource","log","map"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport BackspaceIcon from \"@mui/icons-material/Backspace\";\n\nimport { Provider, Network } from \"aptos\";\n\n\nconst address =\n  \"0x0fc6f90cffc13c8eb5312cfe1ed45f716a59cdfe524deef655bc1fe94408a2d8\";\n\n \nconst keyboard = {\n  line1: \"QWERTYUIOP\",\n  line2: \"ASDFGHJKL\",\n  line3: \"ZXCVBNM\",\n};\n\nlet defaultLetters = [];\n\n\"abcdefjhijklmnopqrstuvwxyz\".split(\"\").forEach((i) => {\n  defaultLetters[i] = \"\";\n});\n\nfunction Key(props) {\n  const [state, setState] = useState(\"bg-gray-200 hover:bg-gray-300 dark:bg-zinc-400 dark:text-white dark:hover:bg-zinc-500\");\n\n  const x = props.value.length === 1 ? \"w-7 sm:w-10 \" : \"p-2 sm:p-4 \";\n  const returnKey = () => {\n    props.getKey(props.value);\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      if (props.state === \"C\") setState(\"bg-correct text-white\");\n      if (props.state === \"E\") setState(\"bg-exist text-white\");\n      if (props.state === \"N\") setState(\"bg-wrong text-white dark:bg-gray-600\");\n    }, 350);\n  }, [props.state]);\n\n  return (\n    <button\n      className={\n        x +\n        state +\n        \" h-14 300 grid items-center rounded font-semibold cursor-pointer\"\n      }\n      onClick={returnKey}\n    >\n      {props.value === \"DEL\" ? <BackspaceIcon /> : props.value}\n    </button>\n  );\n}\n\nfunction KeyBoard(props) {\n  const [letters, setletters] = useState(defaultLetters);\n  const [keyPresses, setKeyPresses] = useState([]);\n  useEffect(() => {\n    setletters(props.letters);\n  }, [props.changed]);\n\n  const keyHandler = (value) => {\n    if (value === \"DEL\") {\n      // If \"DEL\" is pressed, remove the last key press entry\n      setKeyPresses((prevKeyPresses) => prevKeyPresses.slice(0, -1));\n    } else {\n      // Otherwise, add a new key press entry\n      setKeyPresses((prevKeyPresses) => [...prevKeyPresses, value]);\n    }\n  };\n\n   const handleEnterPress = async () => {\n    // Loop through key presses and send transactions\n    for (const pressedKey of keyPresses) {\n      const keyPressTransaction = {\n        type: \"entry_function_payload\",\n        function: `${props.address}::test4::pressedKey`,\n        arguments: [1, 0, 0, pressedKey.charCodeAt(0)],\n        type_arguments: [],\n      };\n      try {\n        const key = await window.aptos.signAndSubmitTransaction(keyPressTransaction);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    const provider = new Provider(Network.DEVNET);\n\n    const res2 = await provider.getAccountResource(\n      address,\n      \"0x0fc6f90cffc13c8eb5312cfe1ed45f716a59cdfe524deef655bc1fe94408a2d8::test5::IdToWordle\"\n    );\n    console.log(res2);\n\n\n    // Clear key presses after handling them\n    setKeyPresses([]);\n  };\n\n  return (\n    <div className=\"flex flex-col items-center w-100 pb-5\">\n      <div className=\"flex gap-1 my-0.5 w-fit\">\n        {keyboard.line1.split(\"\").map((value, key) => (\n          <Key\n            getKey={keyHandler}\n            value={value}\n            key={key}\n            state={letters[value]}\n          />\n        ))}\n      </div>\n      <div className=\"flex gap-1 my-0.5 w-fit\">\n        {keyboard.line2.split(\"\").map((value, key) => (\n          <Key\n            getKey={keyHandler}\n            value={value}\n            key={key}\n            state={letters[value]}\n          />\n        ))}\n      </div>\n      <div className=\"flex gap-1 my-0.5 w-fit\">\n        <Key value=\"ENTER\" getKey={keyHandler} />\n        {keyboard.line3.split(\"\").map((value, key) => (\n          <Key\n            getKey={keyHandler}\n            value={value}\n            key={key}\n            state={letters[value]}\n          />\n        ))}\n        <Key value=\"DEL\" getKey={keyHandler} />\n      </div>\n    </div>\n  );\n}\n\nexport default KeyBoard;\n"]},"metadata":{},"sourceType":"module"}